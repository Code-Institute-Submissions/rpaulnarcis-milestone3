{% extends "base.html" %}
{% block content %}

<!---Page to display recipe when recipe is clicked-->

    <h3 class="center-align green-text ">Recipes</h3>

    <div class="row card-panel grey lighten-5">
        <form action="{{ url_for('search')}}" method="post" class="col s12">
            <div class="row valign-wrapper center-align">
                <div class="input-field col s12 m8">
                    <i class="fas fa-search prefix green-text"></i>
                    <input type="text" name="query" id="query" minlength="3" class="validate" required>
                    <label for="query">Search Recipe</label>
                </div>
                <div class="col s12 m4">
                    <a href="{{ url_for('recipes')}}" class="red btn text-shadow">Reset</a>
                    <button type="submit" class="green darken-2 btn text-shadow">
                        <i class="fas fa-search left"></i> Search
                    </button>
                </div>
            </div>
        </form>
    </div>

<div class="divider all-recipes"></div>    
    <section id="recipe-card">
<div class="fist">        
        {% if recipes.count() %} {% for recipe in recipes %}
        <!---For loop used to display recipe from database -->
        
        <div class=" col s4 center-align ">
            <div class="card">
                
                <div class="card-image">
                    <a class="recipe-link" href="{{url_for('show_recipe', recipe_id = recipe._id)}}">
                        <img src="{{recipe.recipe_image_url}}" class="card-img-top" alt="{{recipe.recipe_name}}" />
                    </a>
                </div>
                <h5 class="card-title">{{recipe.recipe_name}}</h5>
                <p class="card-content">{{recipe.recipe_short_description}}</p>
                <div class="card-action">
                    <a href="{{url_for('show_recipe', recipe_id = recipe._id)}}" class="center-align green-text">View recipe</a>
                </div>
            </div>
        </div>
        </div>
</section>
<div>
    {% endfor %} {% else %}
    <p class="no-result">No recipes found. Please try again.</p>
    {% endif %}
<div class="row">
<div class="col s12">
<div class="recipe divider"></div>
</div>
</div> 

{% endblock %}         